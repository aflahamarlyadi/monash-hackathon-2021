from tkinter import *
import fileorganizer

window = Tk()
window.geometry("480x270")
window.title("EFBOT")

# icon = PhotoImage(file=r'pepehands.png')
# window.iconphoto(True,icon)

source_input = StringVar()
destination_input = StringVar()
is_student_mode = BooleanVar()
unit_input = StringVar()

def user_input():
    student_mode = is_student_mode.get()
    unit_label = Label(window, text="Unit name:")
    unit_entry = Entry(window, width=50, textvariable=unit_input)
    if student_mode:
        unit_label.place(x=10, y=100)
        unit_entry.place(x=160, y=100)
        run_button["state"] = DISABLED

    else:
        unit_label.destroy()
        unit_entry.destroy()
        run_button["state"] = NORMAL

def to_raw(string):
    return fr"{string}"

def run():
    student_mode = is_student_mode.get()
    source = to_raw(source_input.get())
    destination = to_raw(destination_input.get())
    if student_mode:
        fileorganizer.student_mode(source, destination)
    else:
        fileorganizer.general_user_mode(source, destination)

source_label = Label(window, text="Source directory path:")
source_label.place(x=10,y=10)
destination_label = Label(window, text="Destination directory path:")
destination_label.place(x=10,y=40)

source_entry = Entry(window, width=50, textvariable=source_input)
source_entry.place(x=160,y=10)
destination_entry = Entry(window, width=50, textvariable=destination_input)
destination_entry.place(x=160,y=40)

student_mode_check = Checkbutton(window, text="Enable student mode", variable=is_student_mode, command=user_input)
student_mode_check.place(x=10,y=70)

run_button = Button(window, text="Run", width=10, command=run)
run_button.place(x=385,y=70)

window.mainloop()
